<apex:page controller="YGGC.ProductsExIm_ProductsDeleter">
<apex:form >

<apex:outputPanel id="messages">
	<apex:pageMessages />
</apex:outputPanel>


<apex:outputPanel id="statusPanel">
	<apex:pageBlock rendered="{!isDeletePollerRunning == false}">
		<b><apex:outputText value="This action will delete all the products except the products associated with opportunities that should be deleted/archived manually."/></b>
		<apex:pageBlockButtons location="bottom">
			<apex:commandButton value="OK" action="{!performDelete}" rerender="messages, statusPanel, pollerPanel"/>
			<apex:commandButton value="Cancel" action="{!cancel}"/>
		</apex:pageBlockButtons>
	</apex:pageBlock>
	<apex:outputPanel rendered="{!isDeletePollerRunning}">
	
		<div id="altstatus__background" style="position:fixed; z-index:90; left:1px; top:1px; width:100%; height:100%; text-align:center; vertical-align: middle; background-color: #dcdcdc; display:block; opacity:0.6;filter:alpha(opacity=60)">
		</div>
		<div id="altstatus" style="position:fixed; z-index:91; left:46%; top:49%; width:150px; height:30px; opacity:1;filter:alpha(opacity=100); border-style:solid; border-width: 3px; border-color: blue; background-color: #efefef; font-weight: bold; color: blue; text-align: center; padding-top:4px; display:block;">
		     <apex:image id="theImage" style="vertical-align:middle;" value="{!$Resource.YGGC__loading}" width="28" height="28" />
		     Please wait...
		</div>
		
	</apex:outputPanel>
</apex:outputPanel>

<apex:outputPanel id="pollerPanel">
	
		<apex:actionPoller rendered="{!isDeletePollerRunning}" interval="5" action="{!deleteAll}" rerender="messages, statusPanel" />
		
</apex:outputPanel>

</apex:form>
</apex:page>